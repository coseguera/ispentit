<h1 class="page-header">Transactions</h1>
<form id="query" class="form-horizontal" role="form" data-bind="submit: queryTransactions">
    <div class="form-group">
        <label for="from" class="col-sm-1 control-label">From</label>
        <div class="col-sm-5">
            <input name="from" type="text" class="form-control" 
                placeholder="From" data-bind="jqCalendar" />
        </div>
        <label for="to" class="col-sm-1 control-label">To</label>
        <div class="col-sm-5">
            <input name="to" type="text" class="form-control" 
                placeholder="To" data-bind="jqCalendar" />
        </div>
    </div>
    <div class="form-group">
        <label for="by" class="col-sm-1 control-label">By</label>
        <div class="col-sm-5">
            <select name="by" class="form-control" 
                data-bind="options: people, optionsValue: 'id', optionsText: 'name', optionsCaption: '---All---'">
            </select>
        </div>
        <label for="on" class="col-sm-1 control-label">On</label>
        <div class="col-sm-5">
            <select name="on" class="form-control" 
                data-bind="options: accounts, optionsValue: 'id', optionsText: 'name', optionsCaption: '---All---'">
            </select>
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-6 col-sm-offset-6">
            <input type="submit" value="Go" class="btn btn-primary btn-block" />
        </div>
    </div>
</form>
<hr>
<div class="table-responsive">
    <table class="table table-striped table-condensed">
        <thead>
            <tr>
    	    <th>Date</th>
    	    <th>Concept</th>
    	    <th>Amount</th>
    	    <th>Person</th>
    	    <th>Account</th>
    	</tr>
        </thead>
        <tbody data-bind="foreach: transactions">
                <tr data-bind="css: { info: isSplit(), success: !isSplit() && amount() > 0 }">
        	    <td data-bind="text: formattedDate"></td>
        	    <td data-bind="text: concept"></td>
        	    <td data-bind="text: formattedAmount"></td>
        	    <td> 
                    <span data-bind="text: personName"></span>
                    (<span data-bind="text: formattedPersonSummary"></span>)
                </td>
        	    <td>
                    <span data-bind="text: accountName"></span>
                    (<span data-bind="text: formattedAccountSummary"></span>)
                </td>
        	</tr>
        </tbody>
    </table>
</div>
